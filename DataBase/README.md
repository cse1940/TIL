## DataBase

- DB는 ```체계화된 데이터```의 모임
- 몇 개의 자료 파일을 조직적으로 통합하여 자료 항목의 중복을 없애고 자료를 구조화하여 기억시켜 놓은 자료의 집합체

- DB로 인해 얻는 장점들
  1. 중복 최소화
  2. 무결성 (정확한 정보를 보장)
  3. 일관성
  4. 독립성 (물리적 / 논리적)
  5. 표준화
  6. 보안 유지

## RDB (관계형 DB)

- 서로 관련된 데이터를 저장하고 접근할 수 있는 DB 유형

- 키와 값들의 간단한 관계를 표 형태로 정리한 DB

- 스키마 (schema)

  : 데이터베이스에서 자료의 구조, 표현방법, 관계 등 전반적인 ```명세를 기술```한 것

- 테이블 (table)

  : 열(컬럼 / 필드)과 행(레코드 / 값)의 모델을 사용해 조직된 데이터 요소들의 집합

  - 열(column) : 각 열에 고유한 데이터 형식 지정
  - 행(row) : 실제 데이터가 저장되는 형태 
  - 기본키(primary key) : 각 행(레코드)의 고유 값, 반드시 설정해야 함

## RDBMS (관계형 DB 관리 시스템)

- SQLite 

  : 비교적 가벼운 데이터베이스

    오픈소스이기 때문에 자유롭게 사용가능

## SQL

- 관계형 데이터베이스 관리시스템의 ```데이터 관리```를 위해 설계된 특수 목적으로 프로그래밍 언어
- 데이터베이스 스키마 생성 및 수정
- 자료의 검색 및 관리
- 데이터베이스 객체 접근 조정 관리

|          분류          |                         개념                          |              예시               |
| :--------------------: | :---------------------------------------------------: | :-----------------------------: |
| DDL - 데이터 정의 언어 | 관계형 DB 구조(테이블, 스키마)를 정의하기 위한 명령어 |       CREATE, DROP, ALTER       |
| DML - 데이터 조작 언어 | 데이터를 저장, 조회, 수정, 삭제 등을 하기 위한 명령어 | INSERT, SELECT, UPDATE, DELETE  |
| DCL - 데이터 제어 언어 |     DB 사용자의 권한 제어를 위해 사용하는 명령어      | GRANT, REVOKE, COMMIT, ROLLBACK |

- SQL 키워드
  1. INSERT : 새로운 데이터 삽입
  2. SELECT : 저장되어 있는 데이터 조회
  3. UPDATE : 저장되어 있는 데이터 갱신
  4. DELETE : 저장되어 있는 데이터 삭제

## WHERE

- 특정 조건으로 데이터 조회하기

```sql
SELECT * FROM 테이블이름 WHERE 조건;

ex1) users 테이블에서 age가 30 이상인 유저의 모든 컬럼 정보를 조회하려면?
SELECT * FROM users WHERE age >= 30;

ex2) users 테이블에서 age가 30 이상, 성이 '김'인 사람의 나이와 이름만 조회하려면?
SELECT agem first_name FROM users WHERE age >= 30 AND last_name = '김';
```

- WEHER절에서 사용할 수 있는 연산자

  - 비교 연산자 : =, >, >=, <, <= 등

  - 논리 연산자
    - AND : 앞에 있는 조건과 뒤에 오는 조건이 모두 참인 경우
    - OR : 앞의 조건이나 뒤의 조건이 참인 경우
    - NOT : 뒤에 오는 조건의 결과를 반대로

- SQL 사용할 수 있는 연산자

  - BETWEEN 값1 AND 값2

    : 값1과 값2 사이의 비교 (값1 <= 비교값 <= 값2)

  - IN (값1, 값2, ...)

    : 목록 중에 값이 하나라도 일치하면 성공

  - LIKE 

    : 와일드카드(% : 0개 이상 문자, _ : 1개 단일 문자)

  - IS NULL / IS NOT NULL

    : NULL 여부를 확인할 때는 항상 = 대신에 IS 활용

  - 부정 연연산자

    : 같지 않다 (!=, ^=, <>)

      ~와 같지 않다 (NOT 칼럼명 =)

      ~보다 크지 않다 (NOT 칼럼명 >)

- 연산자 우선순위
  1. ()
  2. NOT
  3. 비교 연산자, SQL
  4. AND
  5. OR

## SQLite 집계 함수

- SELECT 구문에서만 사용됨
- COUNT : 그룹의 항목 수를 가져옴
- AVG : 모든 값의 평균을 계산
- MAX : 그룹에 있는 모든 값의 최대값을 가져옴
- MIN : 그룹에 있는 모든 값의 최소값을 가져옴
- SUM : 모든 값의 합을 계산

```sql
ex1) users 테이블의 레코드 총 개수를 조회한다면?
SELECT COUNT(*) FROM users;

ex2) 30살 이상인 사람들의 평균 나이는?
SELECT AVG(age) FROM users WHERE age >= 30;

ex3) 계좌 잔액(balance)이 가장 높은 사람과 그 액수를 조회하려면?
SELECT first_name, MAX(balance) FROM users;

ex4) 나이가 30이상인 사람의 계좌 평균 잔액을 조회하려면?
SELECT AVG(balance) FROM users WHERE age >= 30;
```

